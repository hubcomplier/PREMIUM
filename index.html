<!-- Cole este código APÓS a linha onde o código foi cortado -->
<!-- (Continue a partir do array packs) -->

        const packs = [
            { id: 1, title: 'Pack Meditações Essenciais', description: '12 meditações guiadas para iniciantes em sua jornada de autoconhecimento.', audios: 12, duration: '3h', price: 97, oldPrice: 197, badge: 'POPULAR' },
            { id: 2, title: 'Pack Frequências de Cura', description: 'Todas as frequências binaurais para cura, relaxamento e expansão de consciência.', audios: 8, duration: '6h', price: 147, oldPrice: 297, badge: 'NOVO' },
            { id: 3, title: 'Pack Ativações Energéticas', description: 'Ativações poderosas para despertar sua energia vital e kundalini.', audios: 6, duration: '4h', price: 197, oldPrice: 397, badge: 'AVANÇADO' },
            { id: 4, title: 'Pack Rituais Sagrados', description: 'Rituais completos para manhã, noite e momentos especiais de conexão.', audios: 10, duration: '5h', price: 127, oldPrice: 247, badge: '' },
            { id: 5, title: 'Pack Tantra & Magnetismo', description: 'Práticas tântricas e de magnetismo pessoal para relacionamentos e presença.', audios: 8, duration: '4h', price: 177, oldPrice: 347, badge: 'HOT' },
            { id: 6, title: 'Pack Completo - Todos os Áudios', description: 'Acesso a TODOS os áudios da biblioteca, incluindo futuros lançamentos.', audios: 55, duration: '25h+', price: 497, oldPrice: 997, badge: 'MELHOR VALOR' }
        ];

        // ==================== STATE ====================
        let currentUser = null;
        let currentPage = 'dashboard';
        let isPlaying = false;

        // ==================== LOGIN SYSTEM ====================
        const loginForm = document.getElementById('loginForm');
        const loginScreen = document.getElementById('loginScreen');
        const mainApp = document.getElementById('mainApp');
        const loginError = document.getElementById('loginError');
        const logoutBtn = document.getElementById('logoutBtn');

        // Check if user is already logged in
        window.addEventListener('load', () => {
            const savedUser = localStorage.getItem('akashaUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showApp();
            }
        });

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value.toLowerCase();
            const password = document.getElementById('loginPassword').value;
            const remember = document.getElementById('rememberMe').checked;

            if (users[email] && users[email].password === password) {
                currentUser = { email, ...users[email] };
                
                if (remember) {
                    localStorage.setItem('akashaUser', JSON.stringify(currentUser));
                }
                
                loginError.classList.remove('show');
                showApp();
            } else {
                loginError.classList.add('show');
                loginForm.classList.add('shake');
                setTimeout(() => loginForm.classList.remove('shake'), 500);
            }
        });

        logoutBtn.addEventListener('click', () => {
            currentUser = null;
            localStorage.removeItem('akashaUser');
            mainApp.classList.remove('visible');
            loginScreen.classList.remove('hidden');
            document.getElementById('loginEmail').value = '';
            document.getElementById('loginPassword').value = '';
        });

        function showApp() {
            loginScreen.classList.add('hidden');
            mainApp.classList.add('visible');
            updateUserUI();
            updateLevelAccess();
            renderDashboard();
        }

        function updateUserUI() {
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0);
            document.getElementById('welcomeName').textContent = currentUser.name.split(' ')[0];
            
            const levelEl = document.getElementById('userLevel');
            levelEl.textContent = `NÍVEL ${currentUser.level} - ${currentUser.levelName}`;
            levelEl.className = `user-level level-${currentUser.level}`;

            // Update stats based on level
            const availableAudios = audios.filter(a => a.level <= currentUser.level).length;
            document.getElementById('totalAudios').textContent = availableAudios;
            
            const availableCourses = courses.filter(c => c.level <= currentUser.level).length;
            document.getElementById('totalCourses').textContent = availableCourses;

            // Hide upgrade card for level 4
            if (currentUser.level >= 4) {
                document.getElementById('upgradeCard').style.display = 'none';
            }
        }

        function updateLevelAccess() {
            const levelMenu = document.getElementById('levelMenu');
            const levelLinks = levelMenu.querySelectorAll('a[data-level]');
            
            levelLinks.forEach(link => {
                const level = parseInt(link.dataset.level);
                if (level > currentUser.level) {
                    link.classList.add('locked');
                } else {
                    link.classList.remove('locked');
                }
            });

            // Update level tabs
            updateLevelTabs();
        }

        function updateLevelTabs() {
            const tabs = document.querySelectorAll('.level-tab[data-level]');
            tabs.forEach(tab => {
                const level = tab.dataset.level;
                if (level !== 'all' && parseInt(level) > currentUser.level) {
                    tab.classList.add('locked');
                    if (!tab.querySelector('.fa-lock')) {
                        tab.innerHTML += ' <i class="fas fa-lock"></i>';
                    }
                }
            });
        }

        // ==================== NAVIGATION ====================
        document.querySelectorAll('[data-page]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = link.dataset.page;
                navigateTo(page);
            });
        });

        function navigateTo(page) {
            currentPage = page;
            
            // Update active states
            document.querySelectorAll('[data-page]').forEach(el => {
                el.classList.remove('active');
                if (el.dataset.page === page) {
                    el.classList.add('active');
                }
            });

            // Show/hide pages
            document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
            document.getElementById(`${page}Page`).style.display = 'block';

            // Render content
            switch(page) {
                case 'dashboard':
                    renderDashboard();
                    break;
                case 'audios':
                    renderAudios();
                    break;
                case 'cursos':
                    renderCourses();
                    break;
                case 'packs':
                    renderPacks();
                    break;
            }
        }

        // ==================== RENDER FUNCTIONS ====================
        function renderDashboard() {
            renderContinueListening();
            renderRecentlyAdded();
        }

        function renderContinueListening() {
            const container = document.getElementById('continueListening');
            const userAudios = audios.filter(a => a.level <= currentUser.level).slice(0, 3);
            container.innerHTML = userAudios.map(audio => createAudioCard(audio, false)).join('');
            attachAudioEvents();
        }

        function renderRecentlyAdded() {
            const container = document.getElementById('recentlyAdded');
            const allAudios = [...audios].reverse().slice(0, 3);
            container.innerHTML = allAudios.map(audio => createAudioCard(audio, audio.level > currentUser.level)).join('');
            attachAudioEvents();
        }

        function renderAudios(filterLevel = 'all') {
            const container = document.getElementById('allAudios');
            let filteredAudios = audios;
            
            if (filterLevel !== 'all') {
                filteredAudios = audios.filter(a => a.level === parseInt(filterLevel));
            }

            container.innerHTML = filteredAudios.map(audio => {
                const isLocked = audio.level > currentUser.level;
                return createAudioCard(audio, isLocked);
            }).join('');

            attachAudioEvents();
        }

        function createAudioCard(audio, isLocked) {
            const levelNames = { 1: 'ENTRADA', 2: 'PREMIUM', 3: 'PALADIN', 4: 'GOD TIER' };
            
            return `
                <div class="audio-card ${isLocked ? 'locked' : ''}" data-audio-id="${audio.id}">
                    <div class="audio-cover">
                        <div class="audio-cover-icon level-${audio.level}">
                            <i class="fas fa-music"></i>
                        </div>
                        <span class="audio-badge level-${audio.level}">NÍVEL ${audio.level}</span>
                        <span class="audio-duration">${audio.duration}</span>
                        ${isLocked ? `
                            <div class="audio-lock-overlay">
                                <i class="fas fa-lock"></i>
                                <span>NÍVEL ${audio.level} NECESSÁRIO</span>
                            </div>
                        ` : `
                            <button class="audio-play-btn" data-audio-id="${audio.id}">
                                <i class="fas fa-play"></i>
                            </button>
                        `}
                    </div>
                    <div class="audio-info">
                        <span class="audio-category">${audio.category.toUpperCase()}</span>
                        <h3 class="audio-title">${audio.title}</h3>
                        <p class="audio-description">${audio.description}</p>
                        <div class="audio-footer">
                            <div class="audio-stats">
                                <span class="audio-stat"><i class="fas fa-play"></i> ${audio.plays.toLocaleString()}</span>
                                <span class="audio-stat"><i class="fas fa-clock"></i> ${audio.duration}</span>
                            </div>
                            ${isLocked ? `
                                <button class="audio-action-btn buy">DESBLOQUEAR</button>
                            ` : `
                                <button class="audio-action-btn" data-audio-id="${audio.id}">OUVIR</button>
                            `}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCourses() {
            const container = document.getElementById('coursesList');
            const levelBadgeColors = {
                1: 'background: var(--level-1); color: #fff;',
                2: 'background: var(--level-2); color: #fff;',
                3: 'background: var(--level-3); color: #fff;',
                4: 'background: var(--level-4); color: var(--dark-bg);'
            };

            container.innerHTML = courses.map(course => {
                const isLocked = course.level > currentUser.level;
                const levelNames = { 1: 'ENTRADA', 2: 'PREMIUM', 3: 'PALADIN', 4: 'GOD TIER' };

                return `
                    <div class="course-card ${isLocked ? 'locked' : ''}" style="${isLocked ? 'opacity: 0.6;' : ''}">
                        <div class="course-header">
                            <i class="fas fa-graduation-cap"></i>
                            <span class="course-level-badge" style="${levelBadgeColors[course.level]}">
                                NÍVEL ${course.level} - ${levelNames[course.level]}
                            </span>
                            ${course.progress > 0 ? `
                                <span class="course-progress-badge">${course.progress}% COMPLETO</span>
                            ` : ''}
                            ${isLocked ? `
                                <div class="audio-lock-overlay">
                                    <i class="fas fa-lock"></i>
                                    <span>NÍVEL ${course.level} NECESSÁRIO</span>
                                </div>
                            ` : ''}
                        </div>
                        <div class="course-content">
                            <span class="course-category">${course.category}</span>
                            <h3 class="course-title">${course.title}</h3>
                            <div class="course-meta">
                                <span class="course-meta-item"><i class="fas fa-play-circle"></i> ${course.lessons} aulas</span>
                                <span class="course-meta-item"><i class="fas fa-clock"></i> ${course.duration}</span>
                            </div>
                            ${!isLocked && course.progress > 0 ? `
                                <div class="course-progress">
                                    <div class="course-progress-header">
                                        <span class="course-progress-label">PROGRESSO</span>
                                        <span class="course-progress-value">${course.progress}%</span>
                                    </div>
                                    <div class="course-progress-bar">
                                        <div class="course-progress-fill" style="width: ${course.progress}%;"></div>
                                    </div>
                                </div>
                            ` : ''}
                            <button class="course-btn" ${isLocked ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                                ${isLocked ? 'BLOQUEADO' : (course.progress > 0 ? 'CONTINUAR' : 'INICIAR CURSO')}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderPacks() {
            const container = document.getElementById('packsList');
            
            container.innerHTML = packs.map(pack => `
                <div class="pack-card">
                    ${pack.badge ? `<span class="pack-badge">${pack.badge}</span>` : ''}
                    <div class="pack-icon">
                        <i class="fas fa-box-open"></i>
                    </div>
                    <h3 class="pack-title">${pack.title}</h3>
                    <p class="pack-description">${pack.description}</p>
                    <div class="pack-includes">
                        <h4>INCLUSO NO PACK</h4>
                        <ul>
                            <li><i class="fas fa-check"></i> ${pack.audios} áudios exclusivos</li>
                            <li><i class="fas fa-check"></i> ${pack.duration} de conteúdo</li>
                            <li><i class="fas fa-check"></i> Acesso vitalício</li>
                            <li><i class="fas fa-check"></i> Download disponível</li>
                        </ul>
                    </div>
                    <div class="pack-price">
                        <span class="currency">R$</span>
                        <span class="value">${pack.price}</span>
                        <span class="old">R$ ${pack.oldPrice}</span>
                    </div>
                    <button class="pack-btn">COMPRAR AGORA</button>
                </div>
            `).join('');
        }

        // ==================== AUDIO EVENTS ====================
        function attachAudioEvents() {
            // Play buttons
            document.querySelectorAll('.audio-play-btn, .audio-action-btn:not(.buy)').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const audioId = parseInt(btn.dataset.audioId);
                    if (audioId) {
                        playAudio(audioId);
                    }
                });
            });

            // Card click
            document.querySelectorAll('.audio-card:not(.locked)').forEach(card => {
                card.addEventListener('click', () => {
                    const audioId = parseInt(card.dataset.audioId);
                    playAudio(audioId);
                });
            });
        }

        function playAudio(audioId) {
            const audio = audios.find(a => a.id === audioId);
            if (!audio || audio.level > currentUser.level) return;

            const player = document.getElementById('audioPlayer');
            document.getElementById('playerTitle').textContent = audio.title;
            document.getElementById('playerCategory').textContent = `${audio.category} • Nível ${audio.level}`;
            
            player.classList.add('visible');
            
            // Toggle play/pause
            const playBtn = document.getElementById('playPauseBtn');
            isPlaying = true;
            playBtn.innerHTML = '<i class="fas fa-pause"></i>';
        }

        // Play/Pause button
        document.getElementById('playPauseBtn').addEventListener('click', () => {
            const icon = document.getElementById('playPauseBtn').querySelector('i');
            if (isPlaying) {
                icon.className = 'fas fa-play';
                isPlaying = false;
            } else {
                icon.className = 'fas fa-pause';
                isPlaying = true;
            }
        });

        // ==================== LEVEL TABS ====================
        document.querySelectorAll('.level-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                if (tab.classList.contains('locked')) return;
                
                document.querySelectorAll('.level-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                const level = tab.dataset.level;
                renderAudios(level);
            });
        });

        // ==================== SIDEBAR LEVEL NAVIGATION ====================
        document.querySelectorAll('#levelMenu a[data-level]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                if (link.classList.contains('locked')) return;
                
                const level = link.dataset.level;
                navigateTo('audios');
                
                // Activate corresponding tab
                document.querySelectorAll('.level-tab').forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.dataset.level === level) {
                        tab.classList.add('active');
                    }
                });
                
                renderAudios(level);
            });
        });

        // ==================== INITIAL RENDER ====================
        // Will be called after login
    </script>

</body>
</html>